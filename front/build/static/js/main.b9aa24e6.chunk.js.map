{"version":3,"sources":["util/socketio/events.js","assets/icons/logo.svg","assets/icons/magnifying-glass.svg","assets/icons sync /^/like.*/.svg$","assets/icons/like.svg","assets/icons/likeU.svg","assets/icons sync /^/dislike.*/.svg$","assets/icons/dislike.svg","assets/icons/dislikeU.svg","assets/tuto sync /^/tuto.*/.png$","assets/tuto/tuto1.png","assets/tuto/tuto2.png","assets/tuto/tuto3.png","assets/tuto/tuto4.png","assets/tuto/tuto5.png","assets/tuto/tuto6.png","assets/tuto/tuto7.png","assets/tuto/tuto8.png","assets/icons/menu.svg","assets/icons/help.svg","assets/icons/person.svg","util/state/localStorageUtil.js","store/auth/state.js","store/auth/actions.js","store/contests/state.js","store/contests/actions.js","store/root/state.js","store/mainStore.js","store/contests/reducer.js","store/auth/reducer.js","store/root/reducer.js","components/login/loginForm/loginForm.js","components/login/signUpForm/signUpForm.js","pages/login/Login.js","components/actions/actionModal/ActionModal.js","components/actions/loader/Loader.js","components/search/searchItem/SearchItem.js","components/search/filter/Filter.js","components/home/Home.js","pages/home/Home.js","components/contest/Contest.js","pages/contest/Contest.js","pages/tutorial/Tutorial.js","components/nav/Nav.js","app/Router.js","app/Main.js","app/App.js","serviceWorker.js","index.js"],"names":["exports","CONTEST_EVENT","CONTEST_DETAIL_EVENT","ACTION_INSERT","ACTION_UPDATE","ACTION_DELETE","module","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","auth","token","tokenTimeout","user","refreshToken","saveAuth","authT","timeout","dateEnd","Date","getTime","index","localStorage","setItem","JSON","stringify","logout","removeItem","loadAuthFromLS","getItem","parse","console","error","setAuth","data","type","payload","contests","curContest","activeContests","addContest","contest","updateContest","deleteContest","setContests","compareDate","filter","el","endDate","setCurContest","url","process","socketUrl","reducers","combineReducers","tempArray","state","initState","action","findIndex","_id","push","curContestTemp","images","item","key","splice","root","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","withRouter","props","useSelector","dispatch","useDispatch","useState","email","setEmail","password","setPassword","errorMsg","setErrorMsg","loginUser","a","preventDefault","re","test","String","toLowerCase","length","axios","post","res","history","log","response","className","noValidate","onSubmit","htmlFor","placeholder","aria-label","value","onChange","target","autoComplete","confirmPassword","setConfirmPassword","signUpUser","name","Login","isLogin","setIsLogin","onClick","bind","href","ActionModal","firstButtonRef","useRef","lastButtonRef","useLayoutEffect","current","focus","buttons","cancelCBK","cancelText","close","okCBK","okText","onKeyDown","keyCode","shiftKey","document","activeElement","tabIndex","ref","modalHeaderTitle","modalBody","Loader","SearchItem","useHistory","goToDetail","element","onKeyPress","role","src","likes","forEach","topImage","alt","date","hours","getHours","mins","getMinutes","ampm","getDate","getMonth","getFullYear","formatDate","username","Filter","contestFilter","setContestFilter","filtered","setFiltered","filterDates","setFilterDates","filterActive","setfilterActive","filterString","setFilterString","useCallback","event","isActive","dates","val","undefined","tempFilter","c","filterAnswer","includes","topic","startsWith","hasDate","mapContests","useEffect","require","data-enable-time","options","minDate","minuteIncrement","mode","checked","Home","isModalOpen","setIsModalOpen","newContest","setNewConstest","isUpload","setIsUpload","files","setFiles","isLoading","setIsLoading","buttonModal","createContest","trim","formData","FormData","append","sendContest","headers","Authorization","ans","insertedId","modalFormBody","accept","Array","from","multiple","dateTimeout","setTimeout","deleteUserInfo","clearTimeout","Contest","sortedImages","useMemo","sort","item1","item2","dislikes","curImage","setCurImage","curContestIndex","likePost","isDislike","body","contestId","dateP","parseDate","style","backgroundImage","curImageSet","likedBy","dislikedBy","useParams","get","fetchData","tutorialItems","title","description","Nav","isUserModalOpen","setUserModalOpen","isMobile","setIsMobile","logoutAction","to","exact","activeClassName","AppRouter","path","component","Tutorial","render","Main","getData","socket","socketIOClient","on","Events","setupSocket","disconnect","Router","store","Boolean","location","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"gHAGAA,EAAQC,cAAc,WACtBD,EAAQE,qBAAqB,UAE7BF,EAAQG,cAAc,gBACtBH,EAAQI,cAAc,gBACtBJ,EAAQK,cAAc,iB,iGCRtBC,EAAON,QAAU,IAA0B,kC,gQCA3CM,EAAON,QAAU,IAA0B,8C,kCCA3C,IAAIO,EAAM,CACT,aAAc,IACd,cAAe,KAIhB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBL,EAAON,QAAUQ,EACjBA,EAAeE,GAAK,K,gBCvBpBJ,EAAON,QAAU,IAA0B,kC,gBCA3CM,EAAON,QAAU,IAA0B,mC,gBCA3C,IAAIO,EAAM,CACT,gBAAiB,IACjB,iBAAkB,KAInB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBL,EAAON,QAAUQ,EACjBA,EAAeE,GAAK,K,gBCvBpBJ,EAAON,QAAU,IAA0B,qC,gBCA3CM,EAAON,QAAU,IAA0B,sC,oDCA3C,IAAIO,EAAM,CACT,cAAe,IACf,cAAe,IACf,cAAe,IACf,cAAe,IACf,cAAe,IACf,cAAe,IACf,cAAe,IACf,cAAe,KAIhB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBL,EAAON,QAAUQ,EACjBA,EAAeE,GAAK,K,gBC7BpBJ,EAAON,QAAU,IAA0B,mC,gBCA3CM,EAAON,QAAU,IAA0B,mC,gBCA3CM,EAAON,QAAU,IAA0B,mC,gBCA3CM,EAAON,QAAU,IAA0B,mC,gBCA3CM,EAAON,QAAU,IAA0B,mC,gBCA3CM,EAAON,QAAU,IAA0B,mC,gBCA3CM,EAAON,QAAU,IAA0B,mC,gBCA3CM,EAAON,QAAU,IAA0B,mC,kCCA3CM,EAAON,QAAU,IAA0B,kC,gBCA3CM,EAAON,QAAU,IAA0B,kC,gBCA3CM,EAAON,QAAU,IAA0B,oC,uJCArCoB,EAAO,CACXC,MAAO,KACPC,aAAc,KACdC,KAAM,KACNC,aAAc,MAGHC,EAAW,SAAAC,GACtB,IAAMC,EAAUD,EAAMJ,aAChBM,EAAU,IAAIC,MAAK,IAAIA,MAAOC,UAAsB,GAAVH,EAAe,GAAK,KAIpE,IAAK,IAAMI,KAHXL,EAAMJ,aAAeM,EAGDF,EAClBM,aAAaC,QAAQF,EAAOG,KAAKC,UAAUT,EAAMK,MA0BxCK,EAAS,WAEpB,IAAK,IAAML,KAASX,EAClBY,aAAaK,WAAWN,IC1CbO,EDiBe,WAE5B,GADAlB,EAAKC,MAAQW,aAAaO,QAAQ,SAC9BnB,EAAKC,MAAO,CAEd,IAAK,IAAMU,KAASX,EAClB,IACEA,EAAKW,GAASG,KAAKM,MAAMR,aAAaO,QAAQR,IAC9C,MAAOjB,GACP2B,QAAQC,MAAM5B,GAGlB,GAAI,IAAIe,KAAKT,EAAKE,cAAgB,IAAIO,KAGpC,IAAK,IAAME,KAFXK,IAEoBhB,EAClBA,EAAKW,GAAS,KAIpB,OAAOX,ECpCMkB,G,yjBCDR,IAUMK,EAAU,SAAAC,GAAI,MAAK,CAC9BC,KAAM,WACNC,QAASF,IAGER,EAAS,iBAAO,CAC3BS,KAAM,W,QChBO,GACbE,SAAU,GACVC,WAAY,KACZC,eAAgB,I,yjBCHX,IAAMC,EAAa,SAACC,GAAD,MAAa,CACrCN,KAAM,cACNC,QAAS,CACPK,QAAQA,KAICC,EAAgB,SAACR,GAC5B,MAAO,CACLC,KAAM,iBACNC,QAASF,IAYAS,EAAgB,SAAC3C,GAAD,MAAQ,CACnCmC,KAAM,iBACNC,QAAS,CACPpC,GAAGA,KAIM4C,EAAc,SAACP,GAC1B,IAAIQ,EAAY,IAAI1B,KACpB,MAAM,CACJgB,KAAM,eACNC,QAAS,CACPC,SAASA,EACTE,eAAeF,EAASS,QAAO,SAAAC,GAE7B,OADS,IAAI5B,KAAK4B,EAAGC,SACT5B,UAAUyB,EAAYzB,gBAM7B6B,EAAgB,SAACR,GAC5B,MAAM,CACJN,KAAM,cACNC,QAAS,CACPK,aC9CAS,EAAIC,kCAEK,GACbD,IAAI,GAAD,OAAIA,EAAJ,SACHE,UAAUF,GCCZ,IAAMG,EAAWC,YAAgB,CAC/BjB,SCLa,WAA6C,IACtDhB,EACAkC,EAF0BC,EAA2B,uDAAnBC,EAAWC,EAAQ,uCAIzD,OAAQA,EAAOvB,MACf,IAAK,cAMH,OALAd,EAAQmC,EAAMnB,SAASsB,WAAU,SAAAZ,GAAE,OAAIA,EAAGa,MAAQF,EAAOtB,QAAQpC,MACjEuD,EAAS,YAAOC,EAAMnB,WACP,IAAXhB,EAAckC,EAAUlC,GAASqC,EAAOtB,QAAQK,QAC3Ce,EAAMnB,UAAUkB,EAAUM,KAAKH,EAAOtB,QAAQK,SAEhD,KACFe,EADL,CAEEnB,SAAUkB,IAEd,IAAK,iBACH,IAAIO,EAAc,KAAQN,EAAMlB,YAMhC,GALIwB,EAAc,MAAYJ,EAAOtB,QAAQpC,KAC3C8D,EAAeC,OAASL,EAAOtB,QAAQ2B,QAEzC1C,EAAQmC,EAAMnB,SAASsB,WAAU,SAAAZ,GAAE,OAAIA,EAAGa,MAAQF,EAAOtB,QAAQpC,MACjEuD,EAAS,YAAOC,EAAMnB,WACP,IAAXhB,EAAc,OAAOmC,EAEzB,IAAIQ,EAAOT,EAAUlC,GAErB,IAAK,IAAI4C,KAAOP,EAAOtB,QACrB4B,EAAKC,GAAOP,EAAOtB,QAAQ6B,GAI7B,OADAV,EAAUlC,GAAS2C,EACZ,KACFR,EADL,CAEEnB,SAAUkB,EACVjB,WAAYwB,IAGhB,IAAK,iBAKH,OAJAzC,EAAQmC,EAAMnB,SAASsB,WAAU,SAAAZ,GAAE,OAAIA,EAAGa,MAAQF,EAAOtB,QAAQpC,OACjEuD,EAAS,YAAOC,EAAMnB,WACZ6B,OAAO7C,EAAO,GAEjB,KACFmC,EADL,CAEEnB,SAAUkB,IAEd,IAAK,uBAIH,OAHAlC,EAAQmC,EAAMjB,eAAeoB,WAAU,SAAAZ,GAAE,OAAIA,EAAGa,MAAQF,EAAO1D,OAC/DuD,EAAS,YAAOC,EAAMjB,iBACZ2B,OAAO7C,EAAO,GACjB,KACFmC,EADL,CAEEjB,eAAgBgB,IAEpB,IAAK,eACH,OAAO,KACFC,EADL,CAEEnB,SAAUqB,EAAOtB,QAAQC,SACzBE,eAAgBmB,EAAOtB,QAAQG,iBAEnC,IAAK,cACH,OAAO,KACFiB,EADL,CAEElB,WAAYoB,EAAOtB,QAAQK,UAG/B,QACE,OAAOe,ID7DT9C,KENa,WAA6C,IAA5B8C,EAA2B,uDAAnBC,EAAWC,EAAQ,uCACzD,OAAQA,EAAOvB,MACf,IAAK,YACH,OAAO,EAAP,GACKqB,EADL,CAEE7C,MAAO+C,EAAOtB,UAElB,IAAK,WACH,OAAO,EAAP,GACKoB,EADL,CAEE3C,KAAM6C,EAAOtB,UAEjB,IAAK,WACH,OAAO,EAAP,GACKoB,EADL,CAEE3C,KAAM6C,EAAOtB,QAAQvB,KACrBF,MAAO+C,EAAOtB,QAAQzB,MACtBC,aAAc8C,EAAOtB,QAAQxB,aAC7BE,aAAc4C,EAAOtB,QAAQtB,eAEjC,IAAK,SACH,MAAO,CACLD,KAAM,KACNF,MAAO,KACPC,aAAc,KACdE,aAAc,MAGlB,QACE,OAAO0C,IFtBTW,KGPa,WACb,OAD+C,uDAAXV,KHUvBW,cACbf,EACAgB,OAAOC,8BAAgCD,OAAOC,gC,oFImEjCC,mBAvEf,SAAmBC,GACjB,IAAMtB,EAAMuB,aAAY,SAAAjB,GAAK,OAAIA,EAAMW,KAAKjB,OACtCwB,EAAWC,cAFO,EAGEC,mBAAS,IAHX,mBAGjBC,EAHiB,KAGVC,EAHU,OAIQF,mBAAS,IAJjB,mBAIjBG,EAJiB,KAIPC,EAJO,OAKQJ,mBAAS,IALjB,mBAKjBK,EALiB,KAKPC,EALO,KAOlBC,EAAS,uCAAG,WAAM/E,GAAN,iBAAAgF,EAAA,yDAChBhF,EAAEiF,iBACEC,EAAK,yHACJT,GAAUS,EAAGC,KAAKC,OAAOX,GAAOY,eAHrB,yCAIPP,EAAY,kCAJL,UAMXH,KAAYA,EAASW,OAAS,GANnB,yCAOPR,EAAY,iDAPL,gCAWIS,IAAMC,KAAN,UAAc1C,EAAd,eAAgC,CAAE2B,QAAOE,aAX7C,OAWRc,EAXQ,OAYd9E,EAAS8E,EAAI3D,MACbwC,EAASzC,EAAQ4D,EAAI3D,OACrBsC,EAAMsB,QAAQjC,KAAK,KAdL,kDAgBd9B,QAAQgE,IAAR,MACAhE,QAAQgE,IAAI,KAAIC,UAjBF,0DAAH,sDAqBf,OACE,0BAAMC,UAAU,YAAYC,YAAU,EAACC,SAAUhB,GAC/C,2BAAOiB,QAAQ,SACb,2BACEpG,GAAG,QACHmC,KAAK,QACLkE,YAAY,QACZC,aAAW,QACXC,MAAO1B,EAAM0B,MACbC,SAAU,SAAApG,GAAC,OAAI0E,EAAS1E,EAAEqG,OAAOF,QACjCG,aAAa,QACbT,UAAU,sBAGd,2BAAOG,QAAQ,YACb,2BACEpG,GAAG,WACHmC,KAAK,WACLkE,YAAY,WACZC,aAAW,WACXC,MAAOxB,EAASwB,MAChBC,SAAU,SAAApG,GAAC,OAAI4E,EAAY5E,EAAEqG,OAAOF,QACpCG,aAAa,mBACbT,UAAU,sBAGbhB,EAAW,uBAAGgB,UAAU,uBAAuBhB,GAAgB,KAChE,4BACEgB,UAAS,4BACPhB,EAAW,2BAA6B,IAE1C9C,KAAK,UAJP,a,OC2BSoC,mBAnFf,SAAoBC,GAClB,IAAMtB,EAAMuB,aAAY,SAAAjB,GAAK,OAAIA,EAAMW,KAAKjB,OACtCwB,EAAWC,cAFQ,EAICC,mBAAS,IAJV,mBAIlBC,EAJkB,KAIXC,EAJW,OAKOF,mBAAS,IALhB,mBAKlBG,EALkB,KAKRC,EALQ,OAMqBJ,mBAAS,IAN9B,mBAMlB+B,EANkB,KAMDC,EANC,OAOOhC,mBAAS,IAPhB,mBAOlBK,EAPkB,KAORC,EAPQ,KASnB2B,EAAU,uCAAG,WAAMzG,GAAN,iBAAAgF,EAAA,yDACjBhF,EAAEiF,iBACEC,EAAK,yHACJT,GAAUS,EAAGC,KAAKC,OAAOX,GAAOY,eAHpB,yCAIRP,EAAY,kCAJJ,UAMZH,KAAYA,EAASW,OAAS,GANlB,yCAORR,EAAY,iDAPJ,UASbyB,IAAoB5B,EATP,yCAURG,EAAY,uCAVJ,iCAcGS,IAAMC,KAAN,UAAc1C,EAAd,gBAAiC,CAAE2B,QAAOE,aAd7C,QAcTc,EAdS,OAef9E,EAAS8E,EAAI3D,MACbwC,EAASzC,EAAQ4D,EAAI3D,OACrBsC,EAAMsB,QAAQjC,KAAK,KAjBJ,kDAmBf9B,QAAQgE,IAAR,MACAhE,QAAQgE,IAAI,KAAIC,UApBD,0DAAH,sDAwBhB,OACE,0BAAMC,UAAU,aAAaC,YAAU,EAACC,SAAUU,GAChD,2BACE1E,KAAK,QACLnC,GAAG,QACH8G,KAAK,QACLR,aAAW,QACXD,YAAY,QACZE,MAAO1B,EAAM0B,MACbC,SAAU,SAAApG,GAAC,OAAI0E,EAAS1E,EAAEqG,OAAOF,QACjCG,aAAa,QACbT,UAAU,sBAEZ,2BACE9D,KAAK,WACLnC,GAAG,WACHsG,aAAW,WACXD,YAAY,WACZE,MAAOxB,EAASwB,MAChBC,SAAU,SAAApG,GAAC,OAAI4E,EAAY5E,EAAEqG,OAAOF,QACpCG,aAAa,eACbT,UAAU,sBAEZ,2BACEjG,GAAG,kBACHmC,KAAK,WACLmE,aAAW,kBACXD,YAAY,mBACZE,MAAOI,EAAgBJ,MACvBC,SAAU,SAAApG,GAAC,OAAIwG,EAAmBxG,EAAEqG,OAAOF,QAC3CG,aAAa,eACbT,UAAU,sBAEXhB,EAAW,uBAAGgB,UAAU,wBAAwBhB,GAAgB,KACjE,4BACEgB,UAAS,6BACPhB,EAAW,4BAA8B,IAE3C9C,KAAK,UAJP,cCvCS4E,MAhCf,WAAkB,IAAD,EACenC,oBAAS,GADxB,mBACRoC,EADQ,KACCC,EADD,KAOf,OACE,yBAAKhB,UAAU,aACb,yBAAKA,UAAU,wBACb,wBAAIA,UAAU,oBAAd,OACCe,EAAU,kBAAC,EAAD,MAA0B,kBAAC,EAAD,MACrC,2BACGA,EAAU,eAAiB,mBAAoB,IAChD,0BACEf,UAAU,uBACViB,QAbY,WACpBD,GAAYD,IAYmBG,KAAK,OAE3BH,EAAU,UAAY,UAG3B,0DAC+B,IAC7B,uBAAGI,KAAK,YAAYX,OAAO,SAASR,UAAU,wBAA9C,gBCkEKoB,G,cA1FK,SAAA7C,GAClB,IAAM8C,EAAiBC,iBAAO,MACxBC,EAAgBD,iBAAO,MAE7BE,2BAAgB,WACVH,EAAeI,SAASJ,EAAeI,QAAQC,UAClD,CACDL,IAGF,IAmBMM,EAAU,GA4BhB,OA3BIpD,EAAMqD,WAAarD,EAAMsD,YAC3BF,EAAQ/D,KACN,4BACEoC,UAAU,sCACVhC,IAAK,EACLiD,QAAS,WACP1C,EAAMqD,YACNrD,EAAMuD,UAGPvD,EAAMsD,aAGTtD,EAAMwD,OAASxD,EAAMyD,QACvBL,EAAQ/D,KACN,4BACEoC,UAAU,kCACVhC,IAAK,EACLiD,QAAS,WACP1C,EAAMwD,QACNxD,EAAMuD,UAGPvD,EAAMyD,SAKX,yBAAKhC,UAAU,SACb,yBAAKA,UAAU,kBAAkBiB,QAAS,kBAAM1C,EAAMuD,WACtD,yBAAK9B,UAAU,iBAAiBiC,UAlDjB,SAAA9H,GACC,IAAdA,EAAE+H,UACA/H,EAAEgI,SACAC,SAASC,gBAAkBhB,EAAeI,UAC5CtH,EAAEiF,iBACFmC,EAAcE,QAAQC,SAGpBU,SAASC,gBAAkBd,EAAcE,UAC3CtH,EAAEiF,iBACFiC,EAAeI,QAAQC,UAIf,WAAVvH,EAAE6D,KACJO,EAAMuD,SAmCiDQ,SAAS,KAC9D,yBAAKtC,UAAU,iBACb,4BACEA,UAAU,uBACViB,QAAS,kBAAM1C,EAAMuD,SACrBS,IAAKlB,GAHP,QAOA,wBAAIrB,UAAU,wBAAwBzB,EAAMiE,mBAE9C,yBAAKxC,UAAU,eAAezB,EAAMkE,WACpC,yBAAKzC,UAAU,gBAAgBuC,IAAKhB,EAAee,SAAS,KACzDX,OChEIe,G,aAVA,WAEb,OACE,yBAAK1C,UAAU,OACb,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,cAAa,8BAAW,8BAAW,8BAAW,8BAAW,8BAAW,8BAAW,8BAAW,kC,uCCuEhG2C,MAtEf,SAAoBpE,GAClB,IAoCkC0C,EApC9BpB,EAAU+C,cA+BRC,EAAW,SAAC9I,GAChB8F,EAAQjC,KAAR,mBAAyB7D,KAU3B,OACE,yBAAKiG,UAAU,cACbiB,QAAS,WAAK4B,EAAWtE,EAAMuE,QAAQnF,MACvCoF,YAT8B9B,EASO,kBAAI4B,EAAWtE,EAAMuE,QAAQnF,MATxB,YAChC,UAD6C,EAAVK,KAE7CiD,MAQA+B,KAAK,UACL,yBAAKhD,UAAU,0BACb,0BAAMA,UAAU,oBAAhB,IAAqCzB,EAAMuE,QAAQhF,OAAO2B,SAE5D,yBAAKO,UAAU,mBAAmBiD,IAhDvB,SAACnF,GACd,IAAIoF,EAAM,EACND,EAAInF,EAAO,GAAGb,IAUlB,OARAa,EAAOqF,SAAQ,SAAArG,GACTA,EAAGoG,MAAMA,IAEXA,EAAMpG,EAAGoG,MACTD,EAAInG,EAAGG,QAIJgG,EAoCkCG,CAAS7E,EAAMuE,QAAQhF,QAASuF,IAAI,oCAG3E,wBAAIrD,UAAU,qBArCD,SAACsD,GAChB,IAAIA,EACF,OAAOA,EAET,IAAIC,GADJD,EAAK,IAAIpI,KAAKoI,IACCE,WACXC,EAAKH,EAAKI,aACVC,EAAOJ,GAAS,GAAK,KAAO,KAMhC,OAFAA,GADAA,GADAA,GAAgB,KACQ,IACZ,GAAG,IAAIA,EAAMA,EACzBE,EAAKA,EAAK,GAAG,IAAIA,EAAKA,EAChB,GAAN,OAAUH,EAAKM,UAAf,YAA4BN,EAAKO,WAAW,EAA5C,YAAiDP,EAAKQ,cAAtD,YAAuEP,EAAvE,YAAgFE,EAAhF,YAAwFE,GAyBnDI,CAAWxF,EAAMuE,QAAQ/F,UAC5D,yBAAKiD,UAAU,sBACb,uBAAGA,UAAU,qBACVzB,EAAMuE,QAAQkB,SADjB,IAC4BzF,EAAMuE,QAAQjC,MAE1C,uBAAGb,UAAU,sBAAb,aC4DOiE,MArHf,SAAgB1F,GAAQ,IA+CH+E,EA/CE,EACqB3E,mBAASJ,EAAMnC,UADpC,mBACd8H,EADc,KACCC,EADD,OAEWxF,oBAAS,GAFpB,mBAEdyF,EAFc,KAEJC,EAFI,OAGiB1F,mBAAS,IAH1B,mBAGd2F,EAHc,KAGDC,EAHC,OAImB5F,oBAAS,GAJ5B,mBAId6F,EAJc,KAIAC,EAJA,OAKmB9F,mBAAS,IAL5B,mBAKd+F,EALc,KAKAC,EALA,KAOf9H,EAAS+H,uBAAY,SAACC,EAAOC,EAAUC,GAC3CV,GAAY,GACZ,IAAIW,EAAMH,GAAmB,OAAVA,EAAiBA,EAAMrE,OAAOF,MAAQoE,EACzDK,EAAMA,GAAYT,EAClBQ,OAAoBG,IAAXH,GAAmC,OAAXA,EAAgBA,EAASN,EAE1D,IAAIU,EAAa3G,EAAMnC,SAASS,QAAO,SAAAsI,GACrC,IAAIC,EACFD,EAAEtE,KAAKwE,SAASL,IAChBG,EAAEG,MAAMD,SAASL,IACjBG,EAAEnB,SAASuB,WAAWP,GAEpB1B,EAAO,IAAIpI,KAAKiK,EAAEpI,SAYtB,OAXIwB,EAAMiH,SAAWT,GAASA,EAAMtF,QAAU,IAC5C2F,EACEA,GACC,IAAIlK,KAAK6J,EAAM,IAAI5J,WAAamI,EAAKnI,WACpCmI,EAAKnI,WAAa,IAAID,KAAK6J,EAAM,IAAI5J,WAGvC2J,IACFM,EAAeA,IAAgB,IAAIlK,MAAOC,WAAamI,EAAKnI,WAGvDiK,KAGTX,EAAgBK,GAChBP,EAAeQ,GACfJ,EAAgBK,GAEhBb,EAAiBe,KACjB,CAACV,EAAcF,EAAaI,EAAcnG,EAAMnC,SAAUmC,EAAMiH,UAE5DC,EAAc,SAAAxJ,GAClB,OAAOA,EAAKrC,KAAI,SAACkD,EAAI1B,GAAL,OACd,kBAAC,EAAD,CAAY4C,IAAKlB,EAAGa,IAAKmF,QAAShG,EAAI1B,MAAOA,QAYjD,OAJAsK,qBAAU,WACR7I,EAAO,MAAK,EAAK,QAChB,CAAC0B,EAAMnC,SAASS,IAGjB,yBAAKmD,UAAU,UACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,qBACb,yBACEA,UAAU,gCACViD,IAAK0C,EAAQ,KACbtC,IAAI,gBAEN,2BACErD,UAAU,iCACVK,aAAW,SACXnE,KAAK,OACLkE,YAAY,YACZG,SAAU1D,KAIb0B,EAAMiH,QACL,yBAAKxF,UAAU,mBACb,kBAAC,IAAD,CACE4F,oBAAA,EACA/E,KAAK,OACLR,aAAW,cACXD,YAAY,eACZyF,QAAS,CACPC,SAlCKxC,EAkCe,IAAIpI,KAjC9B,GAAN,OAAUoI,EAAKQ,cAAf,YAAgCR,EAAKO,WAAa,EAAlD,YAAuDP,EAAKM,YAkChDmC,gBAAiB,GACjBC,KAAM,SAER1F,MAAOgE,EACP/D,SAAU,SAAAwE,GACRlI,EAAO,KAAM,KAAMkI,IAErB/E,UAAU,oDAEZ,yCAEE,2BACE9D,KAAK,WACL+J,QAASzB,EACTjE,SAAU,WAAK1D,EAAO,MAAM2H,EAAa,WAI7C,MAGN,yBAAKxE,UAAU,oBACZoE,GAAYF,EAAczE,OAAS,EAChCgG,EAAYvB,GACZuB,EAAYlH,EAAMnC,a,yjBCqIf8J,MAvOf,WAAiB,IAwEI5C,EAxEL,EACwB3E,oBAAS,GADjC,mBACPwH,EADO,KACMC,EADN,OAEuBzH,mBAAS,IAFhC,mBAEP0H,EAFO,KAEKC,EAFL,OAGkB3H,mBAAS,IAH3B,mBAGPK,EAHO,KAGGC,EAHH,OAIkBN,wBAASsG,GAJ3B,mBAIPsB,EAJO,KAIGC,EAJH,OAKY7H,mBAAS,IALrB,mBAKP8H,EALO,KAKAC,EALA,OAMoB/H,oBAAS,GAN7B,mBAMPgI,EANO,KAMIC,EANJ,KAQR3J,EAAMuB,aAAY,SAAAjB,GAAK,OAAIA,EAAMW,KAAKjB,OACtCvC,EAAQ8D,aAAY,SAAAjB,GAAK,OAAIA,EAAM9C,KAAKC,SAExC0B,EADoBoC,aAAY,SAAAjB,GAAK,OAAIA,EAAMnB,SAASA,WAAU,IAGlEyK,EAAcvF,iBAAO,MAEvBzB,EAAU+C,cAMRkE,EAAa,uCAAG,WAAM3M,GAAN,eAAAgF,EAAA,yDACpBhF,EAAEiF,iBAEGiH,EAAWxF,MAAmC,KAA3BwF,EAAWxF,KAAKkG,OAHpB,yCAIX9H,EAAY,8CAJD,UAKfoH,EAAWf,OAAqC,KAA5Be,EAAWf,MAAMyB,OALtB,yCAMX9H,EAAY,+CAND,UAOfoH,EAAWtJ,QAPI,yCAQXkC,EAAY,mCARD,YASEoH,EAAWtJ,QAZrB5B,WAAY,IAAID,MAAOC,WAGf,yCAUX8D,EAAY,8CAVD,eAWHgG,IAAbsB,EAXgB,0CAYXtH,EAAY,uCAZD,YAahBsH,MAAcE,GAASA,EAAMhH,OAAS,GAAKgH,EAAMhH,OAAS,GAb1C,0CAcXR,EACL,2DAfgB,eAkBhB+H,EAAW,IAAIC,UACVC,OAAO,OAAQb,EAAWxF,MACnCmG,EAASE,OAAO,QAASb,EAAWf,OACpC0B,EAASE,OAAO,UAAWb,EAAWtJ,SACtC0J,EAAMtD,SAAQ,SAACrG,EAAI1B,GACjB4L,EAASE,OAAT,cAAuB9L,GAAS0B,MAElChB,QAAQgE,IAAI,OAAQkH,GAzBA,UA2BdG,EAAYH,GA3BE,4CAAH,sDA8BbG,EAAW,uCAAG,WAAMlL,GAAN,iBAAAkD,EAAA,6DAClByH,GAAa,GACPf,EAAU,CACduB,QAAS,CACPC,cAAc,UAAD,OAAY3M,GACzB,eAAgB,wBALF,SASFgF,IAAMC,KAAN,UAAc1C,EAAd,YAA6BhB,EAAM4J,GATjC,OASdyB,EATc,OAWlBV,GAAa,GACb9K,QAAQgE,IAAIwH,EAAIrL,MAChB4D,EAAQjC,KAAR,oBAA0B0J,EAAIrL,KAAKsL,aAbjB,2CAAH,sDAyBXC,EACJ,0BAAMxH,UAAU,eAAeE,SAAU,SAAA/F,GAAC,OAAI2M,EAAc3M,KAC1D,yBAAK6F,UAAU,qBACb,yBAAKA,UAAU,qBACb,2BAAOG,QAAQ,OAAOH,UAAU,4BAAhC,QAGA,2BACE9D,KAAK,OACL2E,KAAK,OACLR,aAAW,OACXE,SAAU,SAAApG,GACR8E,EAAY,MACZqH,EAAe,KAAKD,EAAN,CAAkBxF,KAAM1G,EAAEqG,OAAOF,aAIrD,yBAAKN,UAAU,qBACb,2BAAOG,QAAQ,OAAOH,UAAU,4BAAhC,YAGA,kBAAC,IAAD,CACE4F,oBAAA,EACAvF,aAAW,WACXQ,KAAK,OACLT,YAAY,mBACZyF,QAAS,CAAEC,SA9BFxC,EA8BsB,IAAIpI,KA7BrC,GAAN,OAAUoI,EAAKQ,cAAf,YAAgCR,EAAKO,WAAa,EAAlD,YAAuDP,EAAKM,YA6BRmC,gBAAiB,IAC7DzF,MAAO+F,EAAWtJ,QAClBwD,SAAU,SAAA+C,GACRrE,EAAY,MACZqH,EAAe,KAAKD,EAAN,CAAkBtJ,QAAS,IAAI7B,KAAKoI,OAEpDtD,UAAU,sDAIhB,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,qBACb,2BAAOG,QAAQ,QAAQH,UAAU,4BAAjC,SAGA,2BACE9D,KAAK,OACL2E,KAAK,QACLR,aAAW,QACXE,SAAU,SAAApG,GACR8E,EAAY,MACZqH,EAAe,KAAKD,EAAN,CAAkBf,MAAOnL,EAAEqG,OAAOF,aAItD,yBAAKN,UAAU,qBACb,2BAAOG,QAAQ,SAASH,UAAU,4BAAlC,UAGA,yBAAKa,KAAK,SAASb,UAAU,qBAC3B,2BAAOA,UAAU,6DACf,2BACE9D,KAAK,QACLoE,MAAM,MACN2F,SAAsB,IAAbM,EACThG,SAAU,WACRiG,GAAY,MANlB,OAWA,2BAAOxG,UAAU,6DACf,2BACE9D,KAAK,QACLoE,MAAM,SACN2F,SAAsB,IAAbM,EACThG,SAAU,WACRiG,GAAY,GACZvH,EAAY,MACZqH,EAAe,KAAKD,EAAN,CAAkBvI,OAAQ,SAR9C,WAcF,6BACCyI,EACC,4BAAQvG,UAAU,+BACfyG,GAA0B,IAAjBA,EAAMhH,OAAf,UACMgH,EAAMhH,OADZ,8BAEG,qBACJ,2BACEvD,KAAK,OACLnC,GAAG,QACH0N,OAAO,UACPlH,SApGG,SAAApG,GACf,IAAMsM,EAAQiB,MAAMC,KAAKxN,EAAEqG,OAAOiG,OAClCC,EAASD,IAmGGmB,UAAQ,KAGV,OAGR,yBAAK5H,UAAU,qBACZhB,EAAW,uBAAGgB,UAAU,yBAAyBhB,GAAgB,KAClE,4BAAQgB,UAAU,eAAe9D,KAAK,UACpC,yBACE8D,UAAU,YACViD,IAAK0C,EAAQ,IACbtC,IAAI,yCAJR,mBAyBN,OACE,yBAAKrD,UAAU,QACZ2G,EAAY,kBAAC,EAAD,MAAa,KAE1B,4BAAQ3G,UAAU,eAAeiB,QAAS,kBAAMmF,GAAe,IAAO7D,IAAKsE,GACzE,yBACE7G,UAAU,YACViD,IAAK0C,EAAQ,IACbtC,IAAI,yCAJR,iBASA,kBAAC,EAAD,CAAQjH,SAAUA,EAAUoJ,SAAS,IAEpCW,EACC,kBAAC,EAAD,CACErE,MAAO,WAAOsE,GAAe,GAAOS,EAAYpF,QAAQC,SACxDc,iBAAiB,gBACjBC,UAAW+E,EACXzF,MAAO,aACPH,UAAW,WAjCjB0E,EAAe,CACbzF,KAAM,GACN3E,KAAM,GACNa,QAAS,KACTe,OAAQ,KAGVhC,QAAQgE,IAAI,eACZb,EAAY,IACZmH,GAAe,MA4BT,OClNK9H,mBAzBf,SAAcC,GAEZ,IAAMsJ,EAAcrJ,aAAY,SAAAjB,GAAK,OAAIA,EAAM9C,KAAKE,gBAC9C8D,EAAUC,cAWhB,OAVAgH,qBAAU,WACR,IAAI1K,EAAQ8M,YAAW,WACrBC,IACAtJ,EAAShD,KACT8C,EAAMsB,QAAQjC,KAAK,YAClB,IAAI1C,KAAK2M,GAAa1M,WAAY,IAAID,MAAOC,WAChD,OAAO,WACL6M,aAAahN,MAEd,CAACuD,EAAMsB,QAASgI,EAAYpJ,IAE7B,yBAAKuB,UAAU,cACb,yBAAKA,UAAU,aACf,kBAAC,EAAD,U,OCqHSiI,MAtIf,SAAiB1J,GACf,IAAM/B,EAAUgC,aAAY,SAAAjB,GAAK,OAAIA,EAAMnB,SAASC,cAC9C3B,EAAQ8D,aAAY,SAAAjB,GAAK,OAAIA,EAAM9C,KAAKC,SACxCkE,EAAQJ,aAAY,SAAAjB,GAAK,OAC7BA,EAAM9C,KAAKG,KAAO2C,EAAM9C,KAAKG,KAAKgE,MAAQ,MAEtC3B,EAAMuB,aAAY,SAAAjB,GAAK,OAAIA,EAAMW,KAAKjB,OAEtCiL,EAAeC,mBAAQ,WAS3B,OAAO,YAAI3L,EAAQsB,QAAQsK,MARE,SAACC,EAAOC,GACnC,OACGA,EAAMpF,OAAS,IACfmF,EAAME,UAAY,IAClBF,EAAMnF,OAAS,IACfoF,EAAMC,UAAY,QAItB,CAAC/L,EAAQsB,SAlBU,EAoBUa,mBAASuJ,EAAa,IApBhC,mBAoBfM,EApBe,KAoBLC,EApBK,KAsBtB/C,qBAAU,WACR,GAAI8C,GAAYN,EAAc,CAC5B,IAAMQ,EAAkBR,EAAaxK,WACnC,SAAAK,GAAI,OAAIA,EAAKd,MAAQuL,EAASvL,OAEhCwL,EAAYP,EAAaQ,SAEzBD,EAAYP,EAAa,MAE1B,CAACA,EAAaM,IAEjB,IAWMG,EAAQ,uCAAG,WAAMC,GAAN,iBAAAzJ,EAAA,6DACT0G,EAAU,CACduB,QAAS,CAAEC,cAAc,UAAD,OAAY3M,KAEhCmO,EAAO,CAAED,UAAWA,GAJX,kBAMPlJ,IAAMC,KAAN,UACD1C,EADC,oBACcsB,EAAMuK,UADpB,mBATDtM,EAAQsB,OAAOJ,WAAU,SAAAK,GAAI,OAAIA,EAAKd,MAAQuL,EAASvL,OAStD,UAEJ4L,EACAhD,GATW,uDAYb/J,QAAQgE,IAAR,MAZa,yDAAH,sDA4Bd,OACE,yBAAKE,UAAU,WACb,wBAAIA,UAAU,iBAAiBxD,EAAUA,EAAQqE,KAAO,MACxD,yBAAKb,UAAU,mBACb,qCAAWxD,EAAQ8I,OACnB,wCA5CY,SAAAyD,GAChB,IAAMzF,EAAO,IAAIpI,KAAK6N,GACtB,OACEzF,EAAKM,UAAY,KAAON,EAAKO,WAAa,GAAK,IAAMP,EAAKQ,cAyC1CkF,CAAUxM,EAAQO,WAElC,yBAAKiD,UAAU,iBACb,yBAAKA,UAAU,iBACZkI,EAAatO,KAAI,SAAAkD,GAAE,OAClB,yBAAKkD,UAAU,mBAAmBhC,IAAKlB,EAAGG,KACxC,4BACE+C,UAAU,gBACViJ,MAAO,CAAEC,gBAAiB,OAASpM,EAAGG,IAAM,KAC5CoD,aAAW,SACXY,QAAS,kBA3BH,SAAAhE,GAClB,IAAM7B,EAAQoB,EAAQsB,OAAOJ,WAAU,SAAAK,GAAI,OAAIA,EAAKd,MAAQA,KAC5DwL,EAAYjM,EAAQsB,OAAO1C,IAyBA+N,CAAYrM,EAAGG,QAEhC,uBAAG+C,UAAU,2BAAb,UACUlD,EAAGoG,MAAQpG,EAAGyL,eAK7BC,EACC,yBAAKxI,UAAU,qBACb,yBACEA,UAAU,oCACViJ,MAAO,CAAEC,gBAAiB,OAASV,EAASvL,IAAM,OAEpD,yBAAK+C,UAAU,iBACb,4BACEA,UAAU,gBACVqD,IAAI,iBACJf,SAAS,IACT2G,MAAO,CAAC,gBAAkB,OAAOtD,OAAQ,iBAxCkB,KAA/D6C,EAASY,SAAW,IAAI1L,WAAU,SAAAK,GAAI,OAAIA,IAASa,KAyChC,GAAK,IADoB,SAEhC,KACRqC,QAAS,kBAAM0H,GAAS,MAE1B,4BACE3I,UAAU,gBACVqD,IAAI,oBACJ4F,MAAO,CAAC,gBAAkB,OAAOtD,OAAQ,oBA5CqB,KAAlE6C,EAASa,YAAc,IAAI3L,WAAU,SAAAK,GAAI,OAAIA,IAASa,KA6ChC,GAAK,IADiB,SAEhC,KACRqC,QAAS,kBAAM0H,GAAS,MAE1B,uBAAG3I,UAAU,qBACVwI,EAAStF,MAAQsF,EAASD,YAI/B,Q,OCnGGjK,mBA3Bf,WACE,IAAMrB,EAAMuB,aAAY,SAAAjB,GAAK,OAAIA,EAAMW,KAAKjB,OACtCT,EAAUgC,aAAY,SAAAjB,GAAK,OAAIA,EAAMnB,SAASC,cAC9CtC,EAAOuP,cAAPvP,GAEA0E,EAAWC,cAcjB,OAZAgH,qBAAU,WAAM,4CACd,4BAAAvG,EAAA,+EAEsBO,IAAM6J,IAAN,UAAatM,EAAb,oBAA4BlD,IAFlD,OAEU6F,EAFV,OAGInB,EAASzB,EAAc4C,EAAI3D,OAH/B,gDAKIH,QAAQgE,IAAR,MALJ,0DADc,uBAAC,WAAD,wBASd0J,KACC,CAACzP,EAAGkD,EAAIwB,IAGT,yBAAKuB,UAAU,eACb,yBAAKA,UAAU,4BACdxD,EAAU,kBAAC,EAAD,CAASsM,UAAW/O,IAAiB,SCxBhD0P,I,OAAgB,CACpB,CACEC,MAAO,UACPC,YACE,qFAEJ,CACED,MAAO,mBACPC,YACE,gEAEJ,CACED,MAAO,yBACPC,YACE,uKAEJ,CACED,MAAO,gBACPC,YACE,0DAEJ,CACED,MAAO,SACPC,YACE,mIAEJ,CACED,MAAO,oBACPC,YAAa,qDAEf,CACED,MAAO,kBACPC,YACE,8FAEJ,CACED,MAAO,gBACPC,YACE,8DAmCSrL,oBAhCf,SAAkBC,GAChB,OACE,yBAAKyB,UAAU,YACb,wBAAIA,UAAU,mBAAd,YACA,4BACEA,UAAU,mBACViB,QAAS,kBAAM1C,EAAMsB,QAAQjC,KAAK,OAFpC,cAOA,yBAAKoC,UAAU,kBACZyJ,GAAc7P,KAAI,SAACmE,EAAM3C,GAAP,OACjB,yBAAK4E,UAAU,iBAAiBhC,IAAK5C,GACnC,6BACA,4BAAK2C,EAAK2L,OACV,2BAAI3L,EAAK4L,aACT,yBACE1G,IAAK0C,OAAQ,UAA4BvK,EAAQ,GAAK,QACtDiI,IAAI,2B,OC8BHuG,OArFf,WAAgB,IAAD,EAC+BjL,oBAAS,GADxC,mBACNkL,EADM,KACWC,EADX,OAEmBnL,oBAAS,GAF5B,mBAENoL,EAFM,KAEIC,EAFJ,KAGPvL,EAAWC,cAEXjD,EAAS,WACbsM,IACAtJ,EAASwL,MAGX,OACE,yBAAKjK,UAAS,cAAS+J,EAAW,cAAgB,KAChD,yBAAK/J,UAAU,eACb,4BACE,kBAAC,IAAD,CAAMA,UAAU,YAAYkK,GAAG,KAA/B,cAIF,4BACElK,UAAU,cACViB,QAAS,WACP+I,GAAaD,KAGf,yBACE9G,IAAK0C,EAAQ,KACbtC,IAAI,sCAIV,yBAAKrD,UAAS,UAAK+J,EAAW,uBAAyB,iBACrD,kBAAC,IAAD,CACEI,OAAO,EACPnK,UAAU,YACVoK,gBAAgB,oBAChBF,GAAG,KAJL,QAQA,yBAAKlK,UAAU,aACb,uBAAGmB,KAAK,YAAYX,OAAO,UACxB,IACD,yBACER,UAAU,gBACViD,IAAK0C,EAAQ,KACbtC,IAAI,UAGR,yBACErD,UAAU,gBACViD,IAAK0C,EAAQ,KACbtC,IAAI,OACJpC,QAAS,kBAAM6I,GAAkBD,OAGrC,yBAAK7J,UAAU,yBACb,kBAAC,IAAD,CACEmK,OAAO,EACPnK,UAAU,YACVoK,gBAAgB,oBAChBF,GAAG,aAJL,YAQA,4BAAQjJ,QAASxF,EAAQuE,UAAU,iBAAnC,aAMH6J,EACC,yBAAK7J,UAAU,cACb,uBAAGA,UAAU,mBAAmBiB,QAASxF,GAAzC,qBAIA,OC7DK4O,OAhBf,WACE,IAAM3P,EAAQ8D,aAAY,SAAAjB,GAAK,OAAIA,EAAM9C,KAAKC,SAC9C,OACE,kBAAC,IAAD,KACGA,EAAQ,kBAAC,GAAD,MAAU,KACnB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO4P,KAAK,YAAYC,UAAWC,KACnC,kBAAC,IAAD,CAAOF,KAAK,IAAIH,OAAK,EAACM,OAAQ,kBAAM/P,EAAQ,kBAAC,EAAD,MAAkB,kBAAC,IAAD,CAAUwP,GAAG,cAC3E,kBAAC,IAAD,CAAOI,KAAK,SAASG,OAAQ,kBAAM/P,EAAQ,kBAAC,IAAD,CAAUwP,GAAG,MAAS,kBAAC,EAAD,SACjE,kBAAC,IAAD,CAAOI,KAAK,gBAAgBG,OAAQ,kBAAM/P,EAAQ,kBAAC,EAAD,MAAsB,kBAAC,IAAD,CAAUwP,GAAG,cACrF,kBAAC,IAAD,CAAOI,KAAK,IAAIG,OAAQ,kBAAM,kBAAC,IAAD,CAAUP,GAAG,iB,6BC0CpCQ,OAlDf,WAEE,IAAMzN,EAAMuB,aAAY,SAAAjB,GAAK,OAAIA,EAAMW,KAAKjB,OACtCE,EAAYqB,aAAY,SAAAjB,GAAK,OAAIA,EAAMW,KAAKf,aAC5CzC,EAAM8D,aAAY,SAAAjB,GAAK,OAAEA,EAAM9C,KAAKC,SACpC+D,EAAWC,cAuCjB,OArCAgH,qBAAU,WAAI,4CACZ,4BAAAvG,EAAA,+EAEoBO,IAAM6J,IAAN,UAAatM,EAAb,YAA2B,CAACmK,QAAQ,CAACC,cAAc,UAAD,OAAW3M,MAFjF,OAEQkF,EAFR,OAGInB,EAAS9B,EAAYiD,EAAI3D,OAH7B,gDAKIH,QAAQgE,IAAR,MACAhE,QAAQgE,IAAI,KAAIC,UANpB,0DADY,uBAAC,WAAD,wBA8BZ4K,GACA,IAAMC,EApBN,WACE,IAAMA,EAASC,KAAe1N,GAe9B,OAdAyN,EAAOE,GAAGC,kBAAsB,SAAC9O,GAE/B,OAAOA,EAAKwB,QACZ,KAAKsN,iBACH,OAAOtM,EAASlC,EAAWN,EAAKE,UAClC,KAAK4O,iBACH,OAAOtM,EAAS/B,EAAcT,EAAKE,UACrC,KAAK4O,iBACH,OAAOtM,EAAShC,EAAcR,EAAKE,UACrC,QACE,WAIGyO,EAIII,GAEb,OAAO,kBAAKJ,EAAOK,gBACnB,CAACxM,EAAStB,EAAUzC,EAAMuC,IAI1B,kBAACiO,GAAD,OCxCWb,OAVf,WAGE,OACE,kBAAC,IAAD,CAAUc,MAAOA,GACf,kBAAC,GAAD,QCCcC,QACW,cAA7BhN,OAAOiN,SAASC,UAEe,UAA7BlN,OAAOiN,SAASC,UAEhBlN,OAAOiN,SAASC,SAASC,MACvB,2DCbNC,IAASf,OAAO,kBAAC,GAAD,MAASrI,SAASqJ,eAAe,SD4H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,mB","file":"static/js/main.b9aa24e6.chunk.js","sourcesContent":["/*global exports*/\r\n/*eslint no-undef: \"error\"*/\r\n\r\nexports.CONTEST_EVENT=\"contests\";\r\nexports.CONTEST_DETAIL_EVENT=\"contest\";\r\n\r\nexports.ACTION_INSERT=\"action_insert\";\r\nexports.ACTION_UPDATE=\"action_update\";\r\nexports.ACTION_DELETE=\"action_delete\";","module.exports = __webpack_public_path__ + \"static/media/logo.5cc607db.svg\";","module.exports = __webpack_public_path__ + \"static/media/magnifying-glass.adf7b08c.svg\";","var map = {\n\t\"./like.svg\": 110,\n\t\"./likeU.svg\": 111\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 109;","module.exports = __webpack_public_path__ + \"static/media/like.a467c6a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/likeU.08723e07.svg\";","var map = {\n\t\"./dislike.svg\": 113,\n\t\"./dislikeU.svg\": 114\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 112;","module.exports = __webpack_public_path__ + \"static/media/dislike.3f1544fc.svg\";","module.exports = __webpack_public_path__ + \"static/media/dislikeU.921dfa34.svg\";","var map = {\n\t\"./tuto1.png\": 118,\n\t\"./tuto2.png\": 119,\n\t\"./tuto3.png\": 120,\n\t\"./tuto4.png\": 121,\n\t\"./tuto5.png\": 122,\n\t\"./tuto6.png\": 123,\n\t\"./tuto7.png\": 124,\n\t\"./tuto8.png\": 125\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 117;","module.exports = __webpack_public_path__ + \"static/media/tuto1.d1ae3bc7.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto2.1e3ed942.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto3.b105dcc4.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto4.e2c8a7aa.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto5.4d22a315.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto6.45d73162.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto7.d8cace18.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto8.aeb9cc60.png\";","module.exports = __webpack_public_path__ + \"static/media/menu.aa9d6fc1.svg\";","module.exports = __webpack_public_path__ + \"static/media/help.840adbfd.svg\";","module.exports = __webpack_public_path__ + \"static/media/person.0c32117b.svg\";","const auth = {\r\n  token: null,\r\n  tokenTimeout: null,\r\n  user: null,\r\n  refreshToken: null\r\n};\r\n\r\nexport const saveAuth = authT => {\r\n  const timeout = authT.tokenTimeout;\r\n  const dateEnd = new Date(new Date().getTime() + timeout * 60 * 60 * 1000);\r\n  authT.tokenTimeout = dateEnd;\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  for (const index in authT) {\r\n    localStorage.setItem(index, JSON.stringify(authT[index]));\r\n  }\r\n};\r\n\r\nexport const loadAuthFromLS = () => {\r\n  auth.token = localStorage.getItem(\"token\");\r\n  if (auth.token) {\r\n    // eslint-disable-next-line no-unused-vars\r\n    for (const index in auth) {\r\n      try {\r\n        auth[index] = JSON.parse(localStorage.getItem(index));\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    }\r\n    if (new Date(auth.tokenTimeout) < new Date()) {\r\n      logout();\r\n      // eslint-disable-next-line no-unused-vars\r\n      for (const index in auth) {\r\n        auth[index] = null;\r\n      }\r\n    }\r\n  }\r\n  return auth;\r\n};\r\n\r\nexport const logout = () => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  for (const index in auth) {\r\n    localStorage.removeItem(index);\r\n  }\r\n};\r\n","import { loadAuthFromLS } from \"../../util/state/localStorageUtil\";\r\nexport default loadAuthFromLS();\r\n","export const setToken = token => ({\r\n  type: \"SET_TOKEN\",\r\n  payload: token,\r\n});\r\n\r\nexport const setEmail = user => ({\r\n  type: \"SET_USER\",\r\n  payload: user,\r\n});\r\n\r\nexport const setAuth = data => ({\r\n  type: \"SET_AUTH\",\r\n  payload: data,\r\n});\r\n\r\nexport const logout = () => ({\r\n  type: \"LOGOUT\",\r\n});\r\n","export default {\r\n  contests: [],\r\n  curContest: null,\r\n  activeContests: []\r\n};\r\n","export const addContest = (contest) =>({\r\n  type: \"ADD_CONTEST\",\r\n  payload: {\r\n    contest:contest\r\n  }\r\n});\r\n\r\nexport const updateContest = (data) =>{\r\n  return {\r\n    type: \"UPDATE_CONTEST\",\r\n    payload: data  \r\n  };\r\n};\r\n\r\n\r\nexport const updateCurContest = (data) =>{\r\n  return {\r\n    type: \"UPDATE_CUR_CONTEST\",\r\n    payload: data  \r\n  };\r\n};\r\n\r\nexport const deleteContest = (id) =>({\r\n  type: \"DELETE_CONTEST\",\r\n  payload: {\r\n    id:id\r\n  }\r\n});\r\n\r\nexport const setContests = (contests) => {\r\n  let compareDate=new Date();\r\n  return{\r\n    type: \"SET_CONTESTS\",\r\n    payload: {\r\n      contests:contests,\r\n      activeContests:contests.filter(el=>{\r\n        let date=new Date(el.endDate);\r\n        return date.getTime()>compareDate.getTime();\r\n      })\r\n    }\r\n  };\r\n};\r\n\r\nexport const setCurContest = (contest) => {\r\n  return{\r\n    type: \"SET_CONTEST\",\r\n    payload: {\r\n      contest\r\n    }\r\n  };\r\n};\r\n\r\nexport const setInactiveContest = (id) => \r\n  ({\r\n    type: \"SET_INACTIVE_CONTEST\",\r\n    payload: {\r\n      id:id\r\n    }\r\n  });","/* eslint-disable no-undef */\r\nconst url=process.env.REACT_APP_URL;\r\n\r\nexport default {\r\n  url:`${url}/api/`,\r\n  socketUrl:url\r\n};\r\n","import { combineReducers, createStore } from \"redux\";\r\nimport auth from \"./auth\";\r\nimport contests from \"./contests\";\r\n\r\nimport root from \"./root\";\r\n\r\nconst reducers = combineReducers({\r\n  contests,\r\n  auth,\r\n  root\r\n});\r\n\r\nexport default createStore(\r\n  reducers,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n","import initState from \"./state\";\r\n\r\nexport default function reducer(state = initState, action) {\r\n  let index;\r\n  let tempArray;\r\n\r\n  switch (action.type) {\r\n  case \"ADD_CONTEST\":\r\n    index = state.contests.findIndex(el => el._id === action.payload.id);\r\n    tempArray = [...state.contests];\r\n    if (index !== -1) tempArray[index] = action.payload.contest;\r\n    else if (state.contests) tempArray.push(action.payload.contest);\r\n\r\n    return {\r\n      ...state,\r\n      contests: tempArray,\r\n    };\r\n  case \"UPDATE_CONTEST\":{\r\n    let curContestTemp = { ...state.curContest };\r\n    if (curContestTemp[\"_id\"] === action.payload.id) {\r\n      curContestTemp.images = action.payload.images;\r\n    }\r\n    index = state.contests.findIndex(el => el._id === action.payload.id);\r\n    tempArray = [...state.contests];\r\n    if (index === -1) return state;\r\n\r\n    let item = tempArray[index];\r\n    // eslint-disable-next-line no-unused-vars\r\n    for (let key in action.payload) {\r\n      item[key] = action.payload[key];\r\n    }\r\n\r\n    tempArray[index] = item;\r\n    return {\r\n      ...state,\r\n      contests: tempArray,\r\n      curContest: curContestTemp,\r\n    };\r\n  }\r\n  case \"DELETE_CONTEST\":\r\n    index = state.contests.findIndex(el => el._id === action.payload.id);\r\n    tempArray = [...state.contests];\r\n    tempArray.splice(index, 1);\r\n\r\n    return {\r\n      ...state,\r\n      contests: tempArray,\r\n    };\r\n  case \"SET_INACTIVE_CONTEST\":\r\n    index = state.activeContests.findIndex(el => el._id === action.id);\r\n    tempArray = [...state.activeContests];\r\n    tempArray.splice(index, 1);\r\n    return {\r\n      ...state,\r\n      activeContests: tempArray,\r\n    };\r\n  case \"SET_CONTESTS\":\r\n    return {\r\n      ...state,\r\n      contests: action.payload.contests,\r\n      activeContests: action.payload.activeContests,\r\n    };\r\n  case \"SET_CONTEST\":\r\n    return {\r\n      ...state,\r\n      curContest: action.payload.contest,\r\n    };\r\n\r\n  default:\r\n    return state;\r\n  }\r\n}\r\n","import initState from \"./state\";\r\n\r\nexport default function reducer(state = initState, action) {\r\n  switch (action.type) {\r\n  case \"SET_TOKEN\":\r\n    return {\r\n      ...state,\r\n      token: action.payload,\r\n    };\r\n  case \"SET_USER\":\r\n    return {\r\n      ...state,\r\n      user: action.payload,\r\n    };\r\n  case \"SET_AUTH\":\r\n    return {\r\n      ...state,\r\n      user: action.payload.user,\r\n      token: action.payload.token,\r\n      tokenTimeout: action.payload.tokenTimeout,\r\n      refreshToken: action.payload.refreshToken,\r\n    };\r\n  case \"LOGOUT\": {\r\n    return {\r\n      user: null,\r\n      token: null,\r\n      tokenTimeout: null,\r\n      refreshToken: null,\r\n    };\r\n  }\r\n  default:\r\n    return state;\r\n  }\r\n}\r\n","import initState from \"./state\";\r\n\r\nexport default function reducer(state=initState) {\r\n  return state;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setAuth } from \"../../../store/auth\";\r\nimport { saveAuth } from \"../../../util/state/localStorageUtil\";\r\nimport \"./loginForm.scss\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction LoginForm(props) {\r\n  const url = useSelector(state => state.root.url);\r\n  const dispatch = useDispatch();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const loginUser = async e => {\r\n    e.preventDefault();\r\n    var re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i; // eslint-disable-line no-useless-escape\r\n    if (!email || !re.test(String(email).toLowerCase())) {\r\n      return setErrorMsg(\"You have to use a valid email\");\r\n    }\r\n    if (!password || password.length < 5) {\r\n      return setErrorMsg(\"The password must have at least 5 characters\");\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(`${url}users/login`, { email, password });\r\n      saveAuth(res.data);\r\n      dispatch(setAuth(res.data));\r\n      props.history.push(\"/\");\r\n    } catch (err) {\r\n      console.log(err);\r\n      console.log(err.response);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"loginForm\" noValidate onSubmit={loginUser}>\r\n      <label htmlFor=\"email\">\r\n        <input\r\n          id=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          aria-label=\"email\"\r\n          value={email.value}\r\n          onChange={e => setEmail(e.target.value)}\r\n          autoComplete=\"Email\"\r\n          className=\"loginForm__input\"\r\n        />\r\n      </label>\r\n      <label htmlFor=\"password\">\r\n        <input\r\n          id=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          aria-label=\"password\"\r\n          value={password.value}\r\n          onChange={e => setPassword(e.target.value)}\r\n          autoComplete=\"current-password\"\r\n          className=\"loginForm__input\"\r\n        />\r\n      </label>\r\n      {errorMsg ? <p className=\"loginForm__errorMsg\">{errorMsg}</p> : null}\r\n      <button\r\n        className={`loginForm__button ${\r\n          errorMsg ? \"loginForm__button--error\" : \"\"\r\n        }`}\r\n        type=\"submit\"\r\n      >\r\n        Login\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nLoginForm.propTypes = {\r\n  history: PropTypes.any,\r\n};\r\n\r\nexport default withRouter(LoginForm);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setAuth } from \"../../../store/auth\";\r\nimport { saveAuth } from \"../../../util/state/localStorageUtil\";\r\nimport \"./signUpForm.scss\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction SignUpForm(props) {\r\n  const url = useSelector(state => state.root.url);\r\n  const dispatch = useDispatch();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const signUpUser = async e => {\r\n    e.preventDefault();\r\n    var re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i; // eslint-disable-line no-useless-escape\r\n    if (!email || !re.test(String(email).toLowerCase())) {\r\n      return setErrorMsg(\"You have to use a valid email\");\r\n    }\r\n    if (!password || password.length < 5) {\r\n      return setErrorMsg(\"The password must have at least 5 characters\");\r\n    }\r\n    if (confirmPassword !== password) {\r\n      return setErrorMsg(\"Las contraseñas deben coincidir\");\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(`${url}users/signup`, { email, password });\r\n      saveAuth(res.data);\r\n      dispatch(setAuth(res.data));\r\n      props.history.push(\"/\");\r\n    } catch (err) {\r\n      console.log(err);\r\n      console.log(err.response);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"signUpForm\" noValidate onSubmit={signUpUser}>\r\n      <input\r\n        type=\"email\"\r\n        id=\"email\"\r\n        name=\"email\"\r\n        aria-label=\"email\"\r\n        placeholder=\"Email\"\r\n        value={email.value}\r\n        onChange={e => setEmail(e.target.value)}\r\n        autoComplete=\"Email\"\r\n        className=\"signUpForm__input\"\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        id=\"password\"\r\n        aria-label=\"password\"\r\n        placeholder=\"Password\"\r\n        value={password.value}\r\n        onChange={e => setPassword(e.target.value)}\r\n        autoComplete=\"new-password\"\r\n        className=\"signUpForm__input\"\r\n      />\r\n      <input\r\n        id=\"confirmPassword\"\r\n        type=\"password\"\r\n        aria-label=\"ConfirmPassword\"\r\n        placeholder=\"Confirm Password\"\r\n        value={confirmPassword.value}\r\n        onChange={e => setConfirmPassword(e.target.value)}\r\n        autoComplete=\"new-password\"\r\n        className=\"signUpForm__input\"\r\n      />\r\n      {errorMsg ? <p className=\"signUpForm__errorMsg\">{errorMsg}</p> : null}\r\n      <button\r\n        className={`signUpForm__button ${\r\n          errorMsg ? \"signUpForm__button--error\" : \"\"\r\n        }`}\r\n        type=\"submit\"\r\n      >\r\n        SignUp\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nSignUpForm.propTypes = {\r\n  history: PropTypes.any,\r\n};\r\n\r\nexport default withRouter(SignUpForm);\r\n","import React, { useState } from \"react\";\r\nimport \"./login.scss\";\r\nimport LoginForm from \"../../components/login/loginForm/loginForm\";\r\nimport SignUpForm from \"../../components/login/signUpForm/signUpForm\";\r\n\r\nfunction Login() {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n\r\n  const toggleIsLogin = () => {\r\n    setIsLogin(!isLogin);\r\n  };\r\n\r\n  return (\r\n    <div className=\"loginPage\">\r\n      <div className=\"loginPage__container\">\r\n        <h1 className=\"loginPage__title\">Top</h1>\r\n        {isLogin ? <LoginForm></LoginForm> : <SignUpForm></SignUpForm>}\r\n        <p>\r\n          {isLogin ? \"Are you new?\" : \"Have you joined?\"}{\" \"}\r\n          <span\r\n            className=\"loginPage__butSwitch\"\r\n            onClick={toggleIsLogin.bind(null)}\r\n          >\r\n            {isLogin ? \"Sign up\" : \"Login\"}\r\n          </span>\r\n        </p>\r\n        <p>\r\n          Lost? Check out the tutorial{\" \"}\r\n          <a href=\"/tutorial\" target=\"_blank\" className=\"loginPage__butSwitch\">\r\n            Tutorial\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useRef, useLayoutEffect } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ActionModal = props => {\r\n  const firstButtonRef = useRef(null);\r\n  const lastButtonRef = useRef(null);\r\n\r\n  useLayoutEffect(() => {\r\n    if (firstButtonRef.current) firstButtonRef.current.focus();\r\n  }, [\r\n    firstButtonRef\r\n  ]);\r\n\r\n  const handleExit = e => {\r\n    if (e.keyCode === 9) {\r\n      if (e.shiftKey) {\r\n        if (document.activeElement === firstButtonRef.current) {\r\n          e.preventDefault();\r\n          lastButtonRef.current.focus();\r\n        }\r\n      } else {\r\n        if (document.activeElement === lastButtonRef.current) {\r\n          e.preventDefault();\r\n          firstButtonRef.current.focus();\r\n        }\r\n      }\r\n    }\r\n    if (e.key === \"Escape\") {\r\n      props.close();\r\n    }\r\n  };\r\n\r\n  const buttons = [];\r\n  if (props.cancelCBK && props.cancelText)\r\n    buttons.push(\r\n      <button\r\n        className=\"modal__button modal__button--cancel\"\r\n        key={1}\r\n        onClick={() => {\r\n          props.cancelCBK();\r\n          props.close();\r\n        }}\r\n      >\r\n        {props.cancelText}\r\n      </button>\r\n    );\r\n  if (props.okCBK && props.okText)\r\n    buttons.push(\r\n      <button\r\n        className=\"modal__button modal__button--ok\"\r\n        key={0}\r\n        onClick={() => {\r\n          props.okCBK();\r\n          props.close();\r\n        }}\r\n      >\r\n        {props.okText}\r\n      </button>\r\n    );\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal__backdrop\" onClick={() => props.close()} />\r\n      <div className=\"modal__content\" onKeyDown={handleExit} tabIndex=\"0\">\r\n        <div className=\"modal__header\">\r\n          <button\r\n            className=\"modal__header__close\"\r\n            onClick={() => props.close()}\r\n            ref={firstButtonRef}\r\n          >\r\n            &times;\r\n          </button>\r\n          <h4 className=\"modal__header__title\">{props.modalHeaderTitle}</h4>\r\n        </div>\r\n        <div className=\"modal__body\">{props.modalBody}</div>\r\n        <div className=\"modal__footer\" ref={lastButtonRef} tabIndex=\"0\">\r\n          {buttons}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nActionModal.propTypes = {\r\n  okCBK: PropTypes.any,\r\n  cancelCBK: PropTypes.any,\r\n  okText: PropTypes.any,\r\n  cancelText: PropTypes.any,\r\n  modalHeaderTitle: PropTypes.any,\r\n  modalBody: PropTypes.any,\r\n  close: PropTypes.func,\r\n};\r\n\r\nexport default ActionModal;\r\n","import React from \"react\";\r\nimport \"./Loader.scss\";\r\n\r\nconst Loader = ()=>{\r\n\r\n  return (\r\n    <div className=\"lds\">\r\n      <div className=\"lds-backdrop\"></div>\r\n      <div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;","import React from \"react\";\r\nimport \"./SearchItem.scss\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\nfunction SearchItem(props) {\r\n  let history = useHistory();\r\n\r\n  const topImage=(images)=>{\r\n    let likes=0;\r\n    let src=images[0].url;\r\n\r\n    images.forEach(el=>{\r\n      if (el.likes>likes)\r\n      {\r\n        likes=el.likes;\r\n        src=el.url;\r\n      }\r\n    });\r\n\r\n    return src;\r\n  };\r\n  const formatDate=(date)=>{\r\n    if(!date)\r\n      return date;\r\n    date=new Date(date);\r\n    let hours=date.getHours();\r\n    let mins=date.getMinutes();\r\n    let ampm = hours >= 12 ? \"pm\" : \"am\";  \r\n    \r\n    hours = hours % 12;\r\n    hours = hours ? hours : 12; // the hour '0' should be '12'\r\n    hours=hours<10?\"0\"+hours:hours;\r\n    mins=mins<10?\"0\"+mins:mins;\r\n    return `${date.getDate()}/${date.getMonth()+1}/${date.getFullYear()} ${hours}:${mins} ${ampm}`;\r\n  };\r\n\r\n  const goToDetail=(id)=>{\r\n    history.push(`contests/${id}`);\r\n  };\r\n\r\n  \r\n  const buildHandleEnterKeyPress = (onClick) => ({ key }) => {\r\n    if (key === \"Enter\") { \r\n      onClick(); \r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-item\" \r\n      onClick={()=>{goToDetail(props.element._id);}} \r\n      onKeyPress={buildHandleEnterKeyPress(()=>goToDetail(props.element._id))}\r\n      role=\"button\">\r\n      <div className=\"search-item__container\">\r\n        <span className=\"search-item__num\">X{props.element.images.length}</span>\r\n      </div>\r\n      <img className=\"search-item__img\" src={topImage(props.element.images)} alt=\"Best item of the contest so far\">\r\n      </img>\r\n      {/*Text*/}\r\n      <h2 className=\"search-item__date\">{formatDate(props.element.endDate)}</h2>\r\n      <div className=\"search-item__group\">\r\n        <p className=\"search-item__text\">\r\n          {props.element.username} {props.element.name}\r\n        </p>\r\n        <p className=\"search-item__arrow\">►</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchItem.propTypes={\r\n  element:PropTypes.object,\r\n  index: PropTypes.number\r\n};\r\n\r\nexport default SearchItem;\r\n","/* eslint-disable no-undef */\r\n\r\nimport React, { useState, useEffect,useCallback } from \"react\";\r\nimport \"./Filter.scss\";\r\nimport SearchItem from \"../searchItem/SearchItem\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"../../actions/Flatpickr.scss\";\r\nimport Flatpickr from \"react-flatpickr\";\r\n\r\nfunction Filter(props) {\r\n  const [contestFilter, setContestFilter] = useState(props.contests);\r\n  const [filtered, setFiltered] = useState(false);\r\n  const [filterDates, setFilterDates] = useState([]);\r\n  const [filterActive, setfilterActive] = useState(true);\r\n  const [filterString, setFilterString] = useState(\"\");\r\n\r\n  const filter = useCallback((event, isActive, dates) => {\r\n    setFiltered(true);\r\n    let val = event && event !== null ? event.target.value : filterString;\r\n    dates=dates?dates:filterDates;\r\n    isActive=isActive!==undefined && isActive!==null?isActive:filterActive;\r\n\r\n    let tempFilter = props.contests.filter(c => {\r\n      let filterAnswer =\r\n        c.name.includes(val) ||\r\n        c.topic.includes(val) ||\r\n        c.username.startsWith(val);\r\n\r\n      let date = new Date(c.endDate);\r\n      if (props.hasDate && dates && dates.length >= 2) {\r\n        filterAnswer =\r\n          filterAnswer &&\r\n          (new Date(dates[0]).getTime() <= date.getTime() &&\r\n            date.getTime() <= new Date(dates[1]).getTime());\r\n      }\r\n\r\n      if (isActive) {\r\n        filterAnswer = filterAnswer && new Date().getTime() <= date.getTime();\r\n      }\r\n\r\n      return filterAnswer;\r\n    });\r\n\r\n    setfilterActive(isActive);\r\n    setFilterDates(dates);\r\n    setFilterString(val);\r\n\r\n    setContestFilter(tempFilter);\r\n  },[filterActive, filterDates, filterString, props.contests, props.hasDate]);\r\n\r\n  const mapContests = data => {\r\n    return data.map((el, index) => (\r\n      <SearchItem key={el._id} element={el} index={index}></SearchItem>\r\n    ));\r\n  };\r\n\r\n  const formatDate = date => {\r\n    return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n  };\r\n\r\n  useEffect(() => {\r\n    filter(null,true,null);\r\n  }, [props.contests,filter]);\r\n\r\n  return (\r\n    <div className=\"filter\">\r\n      <div className=\"filter__criteria\">\r\n        <div className=\"filter__searchBar\">\r\n          <img\r\n            className=\"filter__searchBar__searchIcon\"\r\n            src={require(\"../../../assets/icons/magnifying-glass.svg\")}\r\n            alt=\"search-icon\"\r\n          />\r\n          <input\r\n            className=\"filter__searchBar__searchInput\"\r\n            aria-label=\"Search\"\r\n            type=\"text\"\r\n            placeholder=\"Search...\"\r\n            onChange={filter}\r\n          />\r\n        </div>\r\n\r\n        {props.hasDate ? (\r\n          <div className=\"filter__actions\">\r\n            <Flatpickr\r\n              data-enable-time\r\n              name=\"date\"\r\n              aria-label=\"Select date\"\r\n              placeholder=\"Filter dates\"\r\n              options={{\r\n                minDate: formatDate(new Date()),\r\n                minuteIncrement: 10,\r\n                mode: \"range\",\r\n              }}\r\n              value={filterDates}\r\n              onChange={dates => {\r\n                filter(null, null, dates);\r\n              }}\r\n              className=\"modal__form__input modal__form__input--calendar\"\r\n            />\r\n            <label>\r\n              Ongoing\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={filterActive}\r\n                onChange={()=>{filter(null,!filterActive,null);}}\r\n              />\r\n            </label>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n\r\n      <div className=\"filter__contests\">\r\n        {filtered || contestFilter.length > 0\r\n          ? mapContests(contestFilter)\r\n          : mapContests(props.contests)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nFilter.propTypes = {\r\n  contests: PropTypes.array,\r\n  hasDate: PropTypes.bool,\r\n};\r\n\r\nexport default Filter;\r\n","/*global require*/\r\n/*eslint no-undef: \"error\"*/\r\n\r\nimport React, { useState, useRef } from \"react\";\r\nimport \"./Home.scss\";\r\n\r\nimport ActionModal from \"../actions/actionModal/ActionModal\";\r\nimport \"../actions/actionModal/ActionModal.scss\";\r\nimport Loader from \"../actions/loader/Loader\";\r\nimport \"../actions/loader/Loader.scss\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\nimport \"../actions/Flatpickr.scss\";\r\nimport Flatpickr from \"react-flatpickr\";\r\nimport Filter from \"../search/filter/Filter\";\r\n\r\nfunction Home() {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [newContest, setNewConstest] = useState({});\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n  const [isUpload, setIsUpload] = useState(undefined);\r\n  const [files, setFiles] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const url = useSelector(state => state.root.url);\r\n  const token = useSelector(state => state.auth.token);\r\n  const useContests = () => useSelector(state => state.contests.contests, []);\r\n  const contests = useContests();\r\n\r\n  const buttonModal = useRef(null);\r\n\r\n  let history = useHistory();\r\n\r\n  const beforeCurrentTime = date => {\r\n    return date.getTime() < new Date().getTime();\r\n  };\r\n\r\n  const createContest = async e => {\r\n    e.preventDefault();\r\n\r\n    if (!newContest.name || newContest.name.trim() === \"\")\r\n      return setErrorMsg(\"You must specify the name of your contest\");\r\n    if (!newContest.topic || newContest.topic.trim() === \"\")\r\n      return setErrorMsg(\"You must specify the topic of your contest\");\r\n    if (!newContest.endDate)\r\n      return setErrorMsg(\"Your contest needs an end date\");\r\n    if (beforeCurrentTime(newContest.endDate))\r\n      return setErrorMsg(\"Your contest end date can`t be before now\");\r\n    if (isUpload === undefined)\r\n      return setErrorMsg(\"You need to select a type of image\");\r\n    if (isUpload && (!files || files.length < 2 || files.length > 4))\r\n      return setErrorMsg(\r\n        \"You must upload between 2 and 4 images for the contest\"\r\n      );\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"name\", newContest.name);\r\n    formData.append(\"topic\", newContest.topic);\r\n    formData.append(\"endDate\", newContest.endDate);\r\n    files.forEach((el, index) => {\r\n      formData.append(`img_${index}`, el);\r\n    });\r\n    console.log(\"FORM\", formData);\r\n\r\n    await sendContest(formData);\r\n  };\r\n\r\n  const sendContest = async data => {\r\n    setIsLoading(true);\r\n    const options = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n\r\n    let ans = await axios.post(`${url}contests`, data, options);\r\n\r\n    setIsLoading(false);\r\n    console.log(ans.data);\r\n    history.push(`/contests/${ans.data.insertedId}`);\r\n  };\r\n\r\n  const onChange = e => {\r\n    const files = Array.from(e.target.files);\r\n    setFiles(files);\r\n  };\r\n\r\n  const formatDate = date => {\r\n    return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n  };\r\n\r\n  const modalFormBody = (\r\n    <form className=\"contestModal\" onSubmit={e => createContest(e)}>\r\n      <div className=\"contestModal__row\">\r\n        <div className=\"contestModal__col\">\r\n          <label htmlFor=\"name\" className=\"contestModal__inputLabel\">\r\n            Name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            aria-label=\"name\"\r\n            onChange={e => {\r\n              setErrorMsg(null);\r\n              setNewConstest({ ...newContest, name: e.target.value });\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"contestModal__col\">\r\n          <label htmlFor=\"date\" className=\"contestModal__inputLabel\">\r\n            End Date\r\n          </label>\r\n          <Flatpickr\r\n            data-enable-time\r\n            aria-label=\"Date end\"\r\n            name=\"date\"\r\n            placeholder=\"Contest end date\"\r\n            options={{ minDate: formatDate(new Date()), minuteIncrement: 30 }}\r\n            value={newContest.endDate}\r\n            onChange={date => {\r\n              setErrorMsg(null);\r\n              setNewConstest({ ...newContest, endDate: new Date(date) });\r\n            }}\r\n            className=\"modal__form__input modal__form__input--calendar\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"contestModal__row\">\r\n        <div className=\"contestModal__col\">\r\n          <label htmlFor=\"topic\" className=\"contestModal__inputLabel\">\r\n            Topic\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"topic\"\r\n            aria-label=\"topic\"\r\n            onChange={e => {\r\n              setErrorMsg(null);\r\n              setNewConstest({ ...newContest, topic: e.target.value });\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"contestModal__col\">\r\n          <label htmlFor=\"images\" className=\"contestModal__inputLabel\">\r\n            Images\r\n          </label>\r\n          <div name=\"images\" className=\"contestModal__row\">\r\n            <label className=\"contestModal__inputLabel contestModal__inputLabel--option\">\r\n              <input\r\n                type=\"radio\"\r\n                value=\"own\"\r\n                checked={isUpload === true}\r\n                onChange={() => {\r\n                  setIsUpload(true);\r\n                }}\r\n              />\r\n              Own\r\n            </label>\r\n            <label className=\"contestModal__inputLabel contestModal__inputLabel--option\">\r\n              <input\r\n                type=\"radio\"\r\n                value=\"random\"\r\n                checked={isUpload === false}\r\n                onChange={() => {\r\n                  setIsUpload(false);\r\n                  setErrorMsg(null);\r\n                  setNewConstest({ ...newContest, images: [] });\r\n                }}\r\n              />\r\n              Random\r\n            </label>\r\n          </div>\r\n          <br />\r\n          {isUpload ? (\r\n            <button className=\"contestModal__fileContainer\">\r\n              {files && files.length !== 0\r\n                ? `${files.length} images waiting to be send`\r\n                : \"Upload your images\"}\r\n              <input\r\n                type=\"file\"\r\n                id=\"multi\"\r\n                accept=\"image/*\"\r\n                onChange={onChange}\r\n                multiple\r\n              />\r\n            </button>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n      <div className=\"contestModal__col\">\r\n        {errorMsg ? <p className=\"modal__form__errorMsg\">{errorMsg}</p> : null}\r\n        <button className=\"home__button\" type=\"submit\">\r\n          <img\r\n            className=\"home__img\"\r\n            src={require(\"../../assets/icons/logo.svg\")}\r\n            alt=\"App logo. A lightbulb inside an icon\"\r\n          />\r\n          NEW TOP IMAGE\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  const deactivateModal = () => {\r\n    setNewConstest({\r\n      name: \"\",\r\n      type: \"\",\r\n      endDate: null,\r\n      images: [],\r\n    });\r\n\r\n    console.log(\"Deactivate?\");\r\n    setErrorMsg(\"\");\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      {isLoading ? <Loader /> : null}\r\n\r\n      <button className=\"home__button\" onClick={() => setIsModalOpen(true)} ref={buttonModal}>\r\n        <img\r\n          className=\"home__img\"\r\n          src={require(\"../../assets/icons/logo.svg\")}\r\n          alt=\"App logo. A lightbulb inside an icon\"\r\n        />\r\n        NEW TOP IMAGE\r\n      </button>\r\n\r\n      <Filter contests={contests} hasDate={true}></Filter>\r\n\r\n      {isModalOpen ? (\r\n        <ActionModal\r\n          close={() =>{ setIsModalOpen(false);buttonModal.current.focus();}}\r\n          modalHeaderTitle=\"New Top Image\"\r\n          modalBody={modalFormBody}\r\n          okCBK={() => {}}\r\n          cancelCBK={() => {\r\n            deactivateModal();\r\n          }}\r\n        />\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Home.scss\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { logout as deleteUserInfo } from \"../../util/state/localStorageUtil\";\r\nimport {logout} from \"../../store/auth\";\r\nimport HomeComponent from \"../../components/home/Home\";\r\n\r\nfunction Home(props) {\r\n\r\n  const dateTimeout = useSelector(state => state.auth.tokenTimeout);\r\n  const dispatch= useDispatch();\r\n  useEffect(() => {\r\n    let timeout=setTimeout(() => {\r\n      deleteUserInfo();\r\n      dispatch(logout());\r\n      props.history.push(\"/login\");\r\n    }, new Date(dateTimeout).getTime() - new Date().getTime() );\r\n    return ()=>{\r\n      clearTimeout(timeout);\r\n    };\r\n  }, [props.history, dateTimeout,dispatch]);\r\n  return (\r\n    <div className=\"home__page\">\r\n      <div className=\"home__bg\"></div>\r\n      <HomeComponent/>\r\n    </div>\r\n  );\r\n}\r\n\r\nHome.propTypes = {\r\n  history: PropTypes.any,\r\n};\r\nexport default withRouter(Home);","/*global require*/\r\n/*eslint no-undef: \"error\"*/\r\n\r\nimport React, { useEffect, useState, useMemo } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport './Contest.scss';\r\nimport axios from 'axios';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Contest(props) {\r\n  const contest = useSelector(state => state.contests.curContest);\r\n  const token = useSelector(state => state.auth.token);\r\n  const email = useSelector(state =>\r\n    state.auth.user ? state.auth.user.email : ''\r\n  );\r\n  const url = useSelector(state => state.root.url);\r\n\r\n  const sortedImages = useMemo(() => {\r\n    const compareImagesByLikes = (item1, item2) => {\r\n      return (\r\n        (item2.likes || 0) +\r\n        (item1.dislikes || 0) -\r\n        (item1.likes || 0) -\r\n        (item2.dislikes || 0)\r\n      );\r\n    };\r\n    return [...contest.images].sort(compareImagesByLikes);\r\n  }, [contest.images]);\r\n\r\n  const [curImage, setCurImage] = useState(sortedImages[0]);\r\n\r\n  useEffect(() => {\r\n    if (curImage && sortedImages) {\r\n      const curContestIndex = sortedImages.findIndex(\r\n        item => item.url === curImage.url\r\n      );\r\n      setCurImage(sortedImages[curContestIndex]);\r\n    } else {\r\n      setCurImage(sortedImages[0]);\r\n    }\r\n  }, [sortedImages,curImage]);\r\n\r\n  const parseDate = dateP => {\r\n    const date = new Date(dateP);\r\n    return (\r\n      date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear()\r\n    );\r\n  };\r\n\r\n  const getImageIndex = () => {\r\n    return contest.images.findIndex(item => item.url === curImage.url);\r\n  };\r\n\r\n  const likePost = async isDislike => {\r\n    const options = {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    };\r\n    const body = { isDislike: isDislike };\r\n    try {\r\n      await axios.post(\r\n        `${url}contests/${props.contestId}/images/${getImageIndex()}/likes`,\r\n        body,\r\n        options\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const curImageSet = url => {\r\n    const index = contest.images.findIndex(item => item.url === url);\r\n    setCurImage(contest.images[index]);\r\n  };\r\n\r\n  const hasLiked = () => {\r\n    return (curImage.likedBy || []).findIndex(item => item === email) !== -1;\r\n  };\r\n\r\n  const hasDisliked = () => {\r\n    return (curImage.dislikedBy || []).findIndex(item => item === email) !== -1;\r\n  };\r\n  return (\r\n    <div className=\"contest\">\r\n      <h2 className=\"contest__name\">{contest ? contest.name : null}</h2>\r\n      <div className=\"contest__header\">\r\n        <p>Topic: {contest.topic}</p>\r\n        <p>End Date: {parseDate(contest.endDate)}</p>\r\n      </div>\r\n      <div className=\"contest__main\">\r\n        <div className=\"contest__list\">\r\n          {sortedImages.map(el => (\r\n            <div className=\"contest__preview\" key={el.url}>\r\n              <button\r\n                className=\"contest__card\"\r\n                style={{ backgroundImage: 'url(' + el.url + ')' }}\r\n                aria-label=\"button\"\r\n                onClick={() => curImageSet(el.url)}\r\n              ></button>\r\n              <p className=\"contest__preview--likes\">\r\n                Score: {el.likes - el.dislikes}\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {curImage ? (\r\n          <div className=\"contest__featured\">\r\n            <div\r\n              className=\"contest__card contest__card--main\"\r\n              style={{ backgroundImage: 'url(' + curImage.url + ')' }}\r\n            ></div>\r\n            <div className=\"contest__like\">\r\n              <button\r\n                className=\"contest__icon\"\r\n                alt=\"likes for item\"\r\n                tabIndex=\"0\"\r\n                style={{'backgroundImage':'url('+require(`../../assets/icons/like${\r\n                  hasLiked() ? '' : 'U'\r\n                }.svg`)+')'}}\r\n                onClick={() => likePost(false)}\r\n              ></button>\r\n              <button\r\n                className=\"contest__icon\"\r\n                alt=\"dislikes for item\"\r\n                style={{'backgroundImage':'url('+require(`../../assets/icons/dislike${\r\n                  hasDisliked() ? '' : 'U'\r\n                }.svg`)+')'}}\r\n                onClick={() => likePost(true)}\r\n              ></button>\r\n              <p className=\"contest__numLikes\">\r\n                {curImage.likes - curImage.dislikes}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nContest.propTypes = {\r\n  contestId: PropTypes.string,\r\n};\r\n\r\nexport default Contest;\r\n","import React, { useEffect } from \"react\";\r\nimport { setCurContest } from \"../../store/contests\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, useParams } from \"react-router-dom\";\r\nimport Contest from \"../../components/contest/Contest\";\r\nimport \"./Contest.scss\";\r\nimport axios from \"axios\";\r\n\r\nfunction ContestPage() {\r\n  const url = useSelector(state => state.root.url);\r\n  const contest = useSelector(state => state.contests.curContest);\r\n  let { id } = useParams();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const res = await axios.get(`${url}contests/${id}`);\r\n        dispatch(setCurContest(res.data));\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [id,url,dispatch]);\r\n\r\n  return (\r\n    <div className=\"contestPage\">\r\n      <div className=\"contestPage__background\"></div>\r\n      {contest ? <Contest contestId={id}></Contest> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(ContestPage);\r\n","/* eslint-disable no-undef */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./tutorial.scss\";\r\n\r\nconst tutorialItems = [\r\n  {\r\n    title: \"Sign up\",\r\n    description:\r\n      \"Sign up to TopImage to create contests or see previous contests created by others\",\r\n  },\r\n  {\r\n    title: \"Create a contest\",\r\n    description:\r\n      \"Click on the New Top Image button to create your own contest\",\r\n  },\r\n  {\r\n    title: \"Choose contest options\",\r\n    description:\r\n      \"Choose a name and topic for your contest. Select also an end date for it. Finally, you can add your own images or let the app choose their own's based on the topic\",\r\n  },\r\n  {\r\n    title: \"View contests\",\r\n    description:\r\n      \"See all the current running contests in the grid below\",\r\n  },\r\n  {\r\n    title: \"Search\",\r\n    description:\r\n      \"Use the search bar to filter contests by name. You can also choose a range of dates and whether the contest has finished or not\",\r\n  },\r\n  {\r\n    title: \"Go into a contest\",\r\n    description: \"Click on a contest preview to go into its details\",\r\n  },\r\n  {\r\n    title: \"Select an image\",\r\n    description:\r\n      \"Select an image you like from the list on the left to see it bigger and be able to rate it\",\r\n  },\r\n  {\r\n    title: \"Rate an image\",\r\n    description:\r\n      \"Use the like and dislike options below to rate the image\",\r\n  },\r\n];\r\nfunction Tutorial(props) {\r\n  return (\r\n    <div className=\"tutorial\">\r\n      <h1 className=\"tutorial__title\">Tutorial</h1>\r\n      <button\r\n        className=\"tutorial__button\"\r\n        onClick={() => props.history.push(\"/\")}\r\n      >\r\n        Go to main\r\n      </button>\r\n\r\n      <div className=\"tutorial__list\">\r\n        {tutorialItems.map((item, index) => (\r\n          <div className=\"tutorial__item\" key={index}>\r\n            <hr />\r\n            <h3>{item.title}</h3>\r\n            <p>{item.description}</p>\r\n            <img\r\n              src={require(\"../../assets/tuto/tuto\" + (index + 1) + \".png\")}\r\n              alt=\"Tutorial step\"\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nTutorial.propTypes = {\r\n  history: PropTypes.any,\r\n};\r\n\r\nexport default withRouter(Tutorial);\r\n","/* eslint-disable no-undef */\r\nimport React, { useState } from \"react\";\r\nimport \"./Nav.scss\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { logout as logoutAction } from \"../../store/auth\";\r\nimport { logout as deleteUserInfo } from \"../../util/state/localStorageUtil\";\r\n\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Nav() {\r\n  const [isUserModalOpen, setUserModalOpen] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const logout = () => {\r\n    deleteUserInfo();\r\n    dispatch(logoutAction());\r\n  };\r\n\r\n  return (\r\n    <nav className={`nav ${isMobile ? \"nav--active\" : \"\"}`}>\r\n      <div className=\"nav__header\">\r\n        <h1>\r\n          <Link className=\"nav__logo\" to=\"/\">\r\n            TOP IMAGE\r\n          </Link>\r\n        </h1>\r\n        <button\r\n          className=\"nav__toggle\"\r\n          onClick={() => {\r\n            setIsMobile(!isMobile);\r\n          }}\r\n        >\r\n          <img\r\n            src={require(\"../../assets/icons/menu.svg\")}\r\n            alt=\"Toggler for menu when on mobile\"\r\n          ></img>\r\n        </button>\r\n      </div>\r\n      <div className={`${isMobile ? \"nav__actions--active\" : \"nav__actions\"}`}>\r\n        <NavLink\r\n          exact={true}\r\n          className=\"nav__link\"\r\n          activeClassName=\"nav__link--active\"\r\n          to=\"/\"\r\n        >\r\n          Home\r\n        </NavLink>\r\n        <div className=\"nav__user\">\r\n          <a href=\"/tutorial\" target=\"_blank\">\r\n            {\" \"}\r\n            <img\r\n              className=\"nav__userIcon\"\r\n              src={require(\"../../assets/icons/help.svg\")}\r\n              alt=\"help\"\r\n            />\r\n          </a>\r\n          <img\r\n            className=\"nav__userIcon\"\r\n            src={require(\"../../assets/icons/person.svg\")}\r\n            alt=\"user\"\r\n            onClick={() => setUserModalOpen(!isUserModalOpen)}\r\n          />\r\n        </div>\r\n        <div className=\"nav__user--responsive\">\r\n          <NavLink\r\n            exact={true}\r\n            className=\"nav__link\"\r\n            activeClassName=\"nav__link--active\"\r\n            to=\"/tutorial\"\r\n          >\r\n            Tutorial\r\n          </NavLink>\r\n          <button onClick={logout} className=\"nav__mockLink\">\r\n            Log Out\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {isUserModalOpen ? (\r\n        <div className=\"nav__modal\">\r\n          <p className=\"nav__modalOption\" onClick={logout}>\r\n            Cerrar sesión\r\n          </p>\r\n        </div>\r\n      ) : null}\r\n    </nav>\r\n  );\r\n}\r\n\r\nNav.propTypes = {\r\n  history: PropTypes.any,\r\n};\r\n\r\nexport default Nav;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Redirect, Switch } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Login from \"../pages/login/Login\";\r\nimport Index from \"../pages/home/Home\";\r\nimport Contest from \"../pages/contest/Contest\";\r\nimport Tutorial from \"../pages/tutorial/Tutorial\";\r\nimport Nav from \"../components/nav/Nav\";\r\nimport \"./App.css\";\r\n\r\nfunction AppRouter() {\r\n  const token = useSelector(state => state.auth.token);\r\n  return (\r\n    <Router>\r\n      {token ? <Nav /> : null}\r\n      <Switch>\r\n        <Route path=\"/tutorial\" component={Tutorial} />\r\n        <Route path=\"/\" exact render={() => token ? <Index></Index> : <Redirect to=\"/login\" />} />\r\n        <Route path=\"/login\" render={() => token ? <Redirect to=\"/\" /> : <Login></Login>} />\r\n        <Route path=\"/contests/:id\" render={() => token ? <Contest></Contest> : <Redirect to=\"/login\" />}/>\r\n        <Route path=\"*\" render={() => <Redirect to=\"/login\" />} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default AppRouter;\r\n","import React,{useEffect} from \"react\";\r\nimport Router from \"./Router\";\r\nimport \"./App.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {useSelector,useDispatch} from \"react-redux\";\r\nimport { setContests, addContest,deleteContest,updateContest } from \"../store/contests\";\r\n\r\nimport socketIOClient from \"socket.io-client\";\r\nimport * as Events from \"../util/socketio/events\";\r\n\r\nfunction Main() {\r\n\r\n  const url = useSelector(state => state.root.url);\r\n  const socketUrl = useSelector(state => state.root.socketUrl);\r\n  const token=useSelector(state=>state.auth.token);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(()=>{\r\n    async function getData() {\r\n      try {\r\n        let res = await axios.get(`${url}contests`,{headers:{Authorization:`Bearer ${token}`}});\r\n        dispatch(setContests(res.data));  \r\n      } catch (err) {\r\n        console.log(err);\r\n        console.log(err.response);\r\n      }\r\n    }\r\n\r\n    function setupSocket(){\r\n      const socket = socketIOClient(socketUrl);\r\n      socket.on(Events.CONTEST_EVENT, (data) => \r\n      {\r\n        switch(data.action){\r\n        case Events.ACTION_INSERT:\r\n          return dispatch(addContest(data.payload));\r\n        case Events.ACTION_DELETE:\r\n          return dispatch(deleteContest(data.payload));\r\n        case Events.ACTION_UPDATE:\r\n          return dispatch(updateContest(data.payload));\r\n        default :\r\n          return;\r\n        }\r\n            \r\n      });\r\n      return socket;\r\n    }\r\n\r\n    getData();\r\n    const socket=setupSocket();\r\n\r\n    return ()=> socket.disconnect();\r\n  },[dispatch,socketUrl,token,url]);\r\n\r\n\r\n  return (\r\n    <Router>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"../store/mainStore\";\r\nimport \"./App.css\";\r\n\r\nimport Main from \"./Main\";\r\n\r\nfunction AppRouter() {\r\n\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      <Main/>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default AppRouter;\r\n","/* eslint-disable no-undef */\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./css/index.scss\";\r\nimport App from \"./app/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}